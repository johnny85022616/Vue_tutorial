<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  </head>
  <body>
    <div id="box">
      <h2>今天天氣{{info}}</h2>
      <button @click="isHot = !isHot">切換天氣</button>
      <h2>number.a的值是{{number.a}}</h2>
      <button @click="number.a++">number.a+1</button>
      <h2>number.b的值是{{number.b}}</h2>
      <button @click="number.b++">number.b+1</button>
    </div>

    <script type="text/javascript">
      var vm = new Vue({
        el: "#box",
        data: {
          isHot : true ,
          number : {
            a:1 ,
            b:2
          },
          arr:[1,2,3,4]
        },
        computed: {  
          info(){
            return this.isHot ? '炎熱' : '涼爽'
          }
        },
        watch: { 
          // isHot:{   //監聽data變化
          //   immediate:true , //初始化時調用一次handler
          //   handler(newValue , oldValue){
          //     console.log('isHot 被修改了',newValue , oldValue);
          //   }
          // },
          // info:{  //監聽計算屬性變化
          //     handler(newValue , oldValue){
          //       console.log('info 被修改了',newValue , oldValue);
          //     }
          // },
          // 'number.a':{   //監聽多級物件中的某個屬性變化
          //   handler(newValue , oldValue){
          //     console.log('a被改變了');
          //   }
          // },
          // number:{
          //   deep:true , //深度監聽
          //   handler(newValue , oldValue){
          //       console.log('number被修改了',newValue , oldValue);
          //     }
          // },
          // 若不需配置項，則可以使用簡寫形式
          isHot(newValue , oldValue){
            console.log('isHot 被修改了',newValue , oldValue);
          },
        }
      });
      //也可全域調用
      // vm.$watch('isHot' , {   
      //   immediate:true ,
      //   handler(newValue , oldValue){
      //         console.log('isHot 被修改了',newValue , oldValue);
      //   }
      // })
    </script>
  </body>
</html>
